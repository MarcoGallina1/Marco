<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <record id="action_import_vendor_bills" model="ir.actions.act_window">
        <field name="name">Import Vendor Bills</field>
        <field name="view_mode">form</field>
        <field name="res_model">import.vendor.bills</field>
        <field name="target">new</field>
    </record>

    <record id="import_vendor_bills_form" model="ir.ui.view">
        <field name="model">import.vendor.bills</field>
        <field name="name">import.vendor.bills.form</field>
        <field name="arch" type="xml">
            <form>
                <group>
                    <field name="date_from" />
                    <field name="date_to" />
                    <field name="csv_file" filename="csv_file_name"/>
                    <field name="csv_file_name" invisible="1"/>
                    <!--field name="default_product_id"/-->
                </group>
                <footer>
                    <button name="doit" string="Import Vendor Bills" type="object"/>
                </footer>
            </form>
        </field>
    </record>

    <menuitem id="menu_import_vendor_bills"
              name="Import Vendor Bills"
              parent="account.menu_finance_entries"
              sequence="10"
              action="action_import_vendor_bills"/>

    <record id="invoice_supplier_form2" model="ir.ui.view">
        <field name="name">invoice.supplier.form2</field>
        <field name="model">account.move</field>
        <field name="inherit_id" ref="account.view_move_form"/>
        <field name="arch" type="xml">
            <xpath expr="//notebook/page[2]" position="after">
                <page name="import_afip_data" string="Imported Data" attrs="{'invisible': [('type','not in',('in_invoice','in_refund'))]}">
                    <group>
                        <group>
                            <field name="import_date"/>
                            <field name="import_afip_file_flag"/>
                            <field name="import_status"/>
                            <field name="import_user_id"/>
                        </group>
                        <group>
                            <field name="import_cae"/>
                            <field name="import_inv_type"/>
                            <field name="import_inv_currrency"/>
                            <field name="import_taxable_nett_amount"/>
                            <field name="import_non_taxable_nett_amount"/>
                            <field name="import_exempt_amount"/>
                            <field name="import_vat_amount"/>
                            <field name="import_tot_amount"/>
                        </group>
                    </group>
                </page>
            </xpath>
        </field>
    </record>

    <record id="view_partner_form2" model="ir.ui.view">
        <field name="name">view.partner.form2</field>
        <field name="model">res.partner</field>
        <field name="inherit_id" ref="purchase.view_partner_property_form"/>
        <field name="arch" type="xml">
            <field name="property_purchase_currency_id" position="after">
                <field name="default_product_id"/>
            </field>
        </field>
    </record>

    <record id="res_config_settings_view_form2" model="ir.ui.view">
        <field name="name">res_config_settings_view_form2</field>
        <field name="model">res.config.settings</field>
        <field name="inherit_id" ref="account.res_config_settings_view_form"/>
        <field name="arch" type="xml">
            <xpath expr="//div[@id='account_vendor_bills']" position="after">
                <h2>Import Vendor Bills</h2>
                    <div class="row mt16 o_settings_container">
                        <div class="col-12 col-lg-6 o_setting_box">
                            <div class="o_setting_left_pane"/>
                            <div class="o_setting_right_pane">
                                <span class="o_form_label">Default values</span>
                                <span class="fa fa-lg fa-building-o"
                                      title="Values set here are company-specific."
                                      aria-label="Values set here are company-specific."
                                      groups="base.group_multi_company"
                                      role="img"/>
                                <div class="content-group">
                                    <div class="row mt16">

                                        <label string="Def. TAX for FP 'Exempt VAT'" for="vat_exempt_id" class="col-lg-3 o_light_label"/>
                                        <field name="vat_exempt_id"/>

                                        <label string="Def. TAX for FP 'Monotribute'" for="vat_monotribute_id" class="col-lg-3 o_light_label"/>
                                        <field name="vat_monotribute_id"/>

                                        <label string="Def. TAX for 'VAT Exempt'" for="exempt_amount_id" class="col-lg-3 o_light_label"/>
                                        <field name="exempt_amount_id"/>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-12 col-lg-6 o_setting_box">
                            <div class="o_setting_left_pane"/>
                            <div class="o_setting_right_pane">
                                <span class="fa fa-lg fa-building-o"
                                      title="Values set here are company-specific."
                                      aria-label="Values set here are company-specific."
                                      groups="base.group_multi_company"
                                      role="img"/>
                                <div class="content-group">
                                    <div class="row mt16">
                                        <label string="Default Expense Product" for="def_expense_product_id" class="col-lg-3 o_light_label"/>
                                        <field name="def_expense_product_id"/>

                                        <label string="Def. TAX for FP 'IVA Resp.Insc.'" for="vat_resp_insc_id" class="col-lg-3 o_light_label"/>
                                        <field name="vat_resp_insc_id"/>

                                        <label string="Def. TAX for 'Non Taxable Amounts'" for="non_taxable_amount_id" class="col-lg-3 o_light_label"/>
                                        <field name="non_taxable_amount_id"/>

                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
            </xpath>
        </field>
    </record>

    <record id="view_account_move_filter2" model="ir.ui.view">
        <field name="name">view.account.move.filter2</field>
        <field name="model">account.move</field>
        <field name="inherit_id" ref="account.view_account_invoice_filter"/>
        <field name="arch" type="xml">
            <filter name="draft" position="after">
                <filter string="Imported From AFIP" name="imp_from_afip_filter" domain="[('import_afip_file_flag', '=', True)]"/>
            </filter>
            <filter name="salesperson" position="after">
                <filter string="Imported from afip" name="imp_from_afip_group" context="{'group_by':'import_afip_file_flag'}"/>
            </filter>
        </field>
    </record>
</odoo>
